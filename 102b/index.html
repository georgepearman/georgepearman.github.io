<!DOCTYPE html>
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<title>Companion Cube | 102B</title>
		<meta name="description" content="A cool 102B project">
		<meta name="author" content="George Pearman">

		<!-- Mobile Meta -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- Favicon -->
		<link rel="shortcut icon" href="images/favicon.ico">

		<!-- Web Fonts -->
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700,300&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Raleway:700,400,300' rel='stylesheet' type='text/css'>

		<!-- Bootstrap core CSS -->
		<link href="bootstrap/css/bootstrap.css" rel="stylesheet">

		<!-- Font Awesome CSS -->
		<link href="fonts/font-awesome/css/font-awesome.css" rel="stylesheet">

		<!-- Plugins -->
		<link href="css/animations.css" rel="stylesheet">

		<!-- Worthy core CSS file -->
		<link href="css/style.css" rel="stylesheet">

		<!-- Custom css -->
		<link href="css/custom.css" rel="stylesheet">
	</head>

	<body class="no-trans">
		<!-- scrollToTop -->
		<!-- ================ -->
		<div class="scrollToTop"><i class="icon-up-open-big"></i></div>

		<!-- section start -->
		<!-- ================ -->
		<div class="section clearfix object-non-visible" data-animation-effect="fadeIn">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<h1 id="about" class="title text-center">Companion <span>Cube</span></h1>
						<p class="lead text-center">Why build a regular cube when it could balance?</p>
						<div class="space"></div>
						<div class="row">
							<div class="col-md-6">
								<img src="images/section-image-1.png" alt="">
								<div class="space"></div>
							</div>
							<div class="col-md-6">
                                <p>Companion Cube is your next best friend, and will keep you company by balancing next to you using a steel flywheel, brushless motor, and eletromagnetic brake.</p>
                                <p>Cubie, as we affectionately call him, just wants to please you with his many excellent features:</p>
								<ul class="list-unstyled">
									<li><i class="fa fa-caret-right pr-10 text-colored"></i> A "jumping" mode</li>
									<li><i class="fa fa-caret-right pr-10 text-colored"></i> A super slick electromagnetic brake</li>
									<li><i class="fa fa-caret-right pr-10 text-colored"></i> A visually appealing GUI</li>
									<li><i class="fa fa-caret-right pr-10 text-colored"></i> A nice portable size</li>
									<li><i class="fa fa-caret-right pr-10 text-colored"></i> Easily controllable over a network </li>
								</ul>
							</div>
						</div>
						<div class="space"></div>
						<div class="row">
							<div class="col-md-6">
						        <h2>Concept</h2>
                                <p>Our concept was inspired by the ETH Zurich Cubli demonstration
                                video and paper published in 2012 and 2013. Rather than try to
                                recreate their experiment and system by using the same hardware and
                                published control scheme, our overall goal was to create an inertia
                                wheel inverted pendulum system with a completely original design and
                                at a much lower cost than the original Cubli project. To achieve
                                this, we decided to design and create a complete system from
                                scratch, including the hardware, control system, and selection of
                                electronic components.</p>
                                <p>The original project was intended to
                                be a three dimensional cube, with a one dimensional, pivot based
                                system as a testing platform for the control system, electronics,
                                and hardware. After creating the initial 1D system, we decided for
                                cost and time reasons to stick with a 1D system for the final
                                project. The platform consists of three basic subsystems: chassis,
                                power, and brake.</p>
						        <h2>Applications and Future Implementation</h2>
                                <p>This control system has many applications and thus became a point
                                of interest and study for the Companion Cube team. This sort of
                                momentum reaction wheel technology can be implemented on spaceships
                                (where easily controllable reaction forces are often difficult to
                                create), exo-skeletal bionics, and eventually even motorcycles. The
                                investigation and research that this team conducted demonstrated the
                                difficulty of obtaining reliable and usable data from a system with
                                such high rotational frequencies. If given more time, more study and
                                design would be given to isolation of the sensors from the motor
                                vibrations as well as mitigating the overall vibrations themselves.
                                </p>
                                <p>As far as the controller is concerned, state feedback
                                control appeared to be sufficient and very useful during the
                                simulation phase, and allowed for easy tuning during the initial
                                stages of testing. It will be necessary to explore PD, PID, and LQR
                                based control schemes (among others) before determining exactly
                                which control scheme is best suited for this application. </p>

							</div>

							<div class="col-md-6">
								<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingOne">
											<h4 class="panel-title">
												<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
													Hardward Design - Motor
												</a>
											</h4>
										</div>
										<div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
											<div class="panel-body">
                                                <p>At the heart of the system is the power
                                                subsystem, which is based around the SuperTigre 370
                                                brushless electronic motor, which is run via direct
                                                drive via a mid shaft to the steel flywheel. The
                                                shaft is a machined aluminum piece that attaches
                                                with 8-32 set screws to the motor output shaft and
                                                is supported on the opposite side by a double sealed
                                                bearing rated to 20,000 RPM. The shaft also has
                                                a spur gear attached via 8-32 set screws that drives
                                                a second spur gear mounted to the shaft of the
                                                rotary encoder. This drivetrain is required to gear
                                                down the rotation of the motor and flywheel from
                                                a maximum of 5000 RPM to within the operating range
                                                of the rotary encoder. The rotary encoder does not
                                                contain any mounting points that would work within
                                                the packaging requirements, so therefore a pillow
                                                block was machined from aluminum in order to mount
                                                the encoder. The flywheel was designed to match the
                                                ideal moment of inertia and mass as calculated
                                                within the control system. It was first waterjet and
                                                then turned from a 1/2-inch thick sheet of plain
                                                carbon steel. It is attached to the mid shaft with
                                                8-32 set screws and sits on milled flats on the
                                                shaft.</p>
                                            </div>
										</div>
									</div>
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingTwo">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
													Hardware Design - Brake
												</a>
											</h4>
										</div>
										<div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
											<div class="panel-body">
                                                <p>The brake subsystem consists of an electromagnet brake that is attached to the side plate via a CNC machined aluminum sliding assembly.  The slider was assembled with a press-fit bronze oilite bushing and a light coat of oil for lubrication. The sliding mechanism was machined with a high level of precision in order to assure a tight tolerance and a proper sliding joint. The mechanism was required to not bind under the sideways loading that would result from using the brake against a rotating flywheel. The electromagnet is also attached to the baseplate with a spring to ensure that the magnet slides back and away from the steel flywheel when the brake is disengaged. The brake mechanism was shimmed using thin 3/16-inch (10-32) washers in order to adjust the brake height above the flywheel surface. The gap was adjusted closer to allow the electromagnet to jump out and grab the flywheel from its resting state with a power level that was safe to protect the structural integrity of the shaft, motor, and bearing.</p>
											</div>
										</div>
									</div>
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingThree">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
													Hardware Design - Chassis
												</a>
											</h4>
										</div>
										<div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
											<div class="panel-body">
                                                <p>The chassis subsystem supports all of the parts of the power and brake subsystems. The main portions of the subsystem are two side plates cut by waterjet from 1/8-inch aluminum sheet. These are held together by 3/8-inch diameter turned aluminum shafts that have ends threaded to accept 10-32 socket cap head screws. The clearance holes on the side plates were post-machined after waterjet in order to assure a perfectly parallel and tight assembly when the power assembly (motor, mid shaft, and main bearing) were assembled with the side plates and rods. The non-drive side plate is a simple design, with the main shaft bearing press fit in the center of the plate and cutouts in order to see the mechanical action of the flywheel and encoder gear train. The drive side plate is more complex, with the plate following the same basic design of the non-drive side plate, but with added hardpoints for the motor, encoder pillow block, and the accelerometer+gyroscope board. This data acquisition board was mounted with 2-56 screws and standoffs and aligned with the edges of the square side plate for accurate angle measurement. The entire chassis subassembly is attached to the base board by a pivot, constructed with a CNC aluminum base hinge block, a machined shaft, and four small bearings that are pressed into each side plate and the base block.</p>
											</div>
										</div>
									</div>
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingThree">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThreeTwo" aria-expanded="false" aria-controls="collapseThreeTwo">
													Hardware Design - Design Interations
												</a>
											</h4>
										</div>
										<div id="collapseThreeTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThreeTwo">
											<div class="panel-body">
                                                <p>We ran into only a small number of problems with the original system, which we changed and made modifications to for the final system. In the original system, a non-double sealed bearing with a lower RPM rating introduced excess noise and vibration into the system. Moving to a larger diameter, double sealed, and high RPM rated main bearing solved this problem. Secondly, the original system was sized larger than necessary for the required flywheel, and therefore was heavier and more difficult for the system to balance. Designing a smaller more optimized flywheel allowed the side plates to be made smaller, lighter, and more aesthetically pleasing. Finally, the original main bearing was inferior than the current one, and introduced excess play in the mid shaft. By switching to the better bearing and machining the side plates to a very tight tolerance, this ensured that the mid shaft was normal to the side plates and that the flywheel was parallel with the side plates. The alignment of the flywheel was critical to reduce vibrations and noise in the accelerometer data and improve the performance and consistency of the brake.</p>
											</div>
										</div>
									</div>
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingFour">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
													Control Scheme
												</a>
											</h4>
										</div>
										<div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
											<div class="panel-body">
                                                <p>We chose to design a state feedback controller with an observer to predict the states of the system, and determined the governing dynamic equations for the plant. These equations were compared with the published equations of the Cubli project and were found to be identical (although they relied on voltage as the input instead of current, and thus the individual terms were different). Using this plant model, a Luenberger observer was built with the cube angle and motor angular velocity as the measured states and the cube angular velocity being calculated via the observer. </p>
                                                <p>A rise time of 0.5 seconds and settle time of 1.5 seconds were chosen as these poles allowed a reasonable torque response from the motor and kept the maximum energy need to balance the cube within the range of the motors available to us. The gain matrix was the determined from these desired poles as well as the plan dynamics matrices. These gains provided the starting point for tuning the actual model, but would have to be experimentally verified before use in the field. This model was simulated using MATLAB and provided the team with information on how the system was expected to respond, although testing would be needed for verification. </p>
                                                <p>While testing this control scheme, it became clear that  simpler version would be beneficial to test before implementing the full state feedback observer controller. In order to do this, the proportional gains determined using MATLAB (determined above). </p>

											</div>
										</div>
									</div>
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingFive">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
													Sensors
												</a>
											</h4>
										</div>
										<div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
											<div class="panel-body">
                                                <p>The observer in our control model relies on three key values: flywheel velocity, cube angular position, and cube angular velocity.  We used a rotary encoder to observe flywheel position and used software to derive flywheel velocity.  While the rotary encoder uses interrupts that leverage the FPGA of the myRio, we found that the myRio’s timing resolution was not as fine as we would have liked.  In order to get smoother flywheel velocity values, we used a sliding window of 50 ms.</p>
                                                <p>We used a LSM9DS0 IMU breakout board to sense cube angular position.  This particular chip was chosen for its popularity in the Arduino community.  The breakout board is cheap ($20), and has great documentation online from people who have made the board work with a number of devices.  While no one has published instructions for using the LSM9DS0 with the myRio, we were able to work out the required steps after reading some Arduino instructions and tutorials.  We communicate with the board using the I2C interface, which reducing the number of wires going to the cube, and reduces any noise that we might see with analog signal wires.</p>
                                                <p>To determine cube angular position from the LSM9DS0 board, we combined accelerometer and gyro data with a complementary filter.  Additionally, we have an encoder attached to the cube’s pivot.  This allowed us to investigate any error that might be present from our IMU.</p>

											</div>
										</div>
									</div>
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingSix">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
													GUI
												</a>
											</h4>
										</div>
										<div id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix">
											<div class="panel-body">
                                                <p>The GU for the project was developed in order to allow for ease of tuning as well as a clean display of all the important outputs and states of the system. The GUI allows the user 3 main options: Balance, Jump/Balance, and Jump/Idle. The first assumes the user has placed the cube at the balance point and the control simply takes over and keeps it balanced. The second jumps the cube up from a resting state and then proceeds to balance a cube while the Jump/Idle option simply jumps the cube to the other resting state and returns the cube to the Idle state (waiting for the next command). Unfortunately, only the Jump/Idle state has been fully tested as the balancing mode was not implemented as the angular position of the cube could not be accurately determined.</p>
											</div>
										</div>
									</div>
									<div class="panel panel-default">
										<div class="panel-heading" role="tab" id="headingSeven">
											<h4 class="panel-title">
												<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
													Labview Implementation
												</a>
											</h4>
										</div>
										<div id="collapseSeven" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSeven">
											<div class="panel-body">
                                                <p>This system was implemented in LabVIEW so that the software could be run on the NI myRIO. The use of the visual style of coding allowed for simple diagrams that even those individuals who are not versed in any true coding language can understand. This makes the product more versatile as enthusiasts are able to work on the code themselves and personalize their Comapnion Cube. </p>
                                                <p>While the feedback loop was not as straightforward in LabVIEW as in MATLAB, it was still easily achieved and was able to respond to inputs from the actual plant. LabVIEW was also used to interface with I2C output of the accelerometer and gyro so that the digital data could be obtained.</p>

											</div>
										</div>
									</div>
                                </div>
                            </div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- section end -->

		<!-- section start -->
		<!-- ================ -->
		<div class="section translucent-bg bg-image-1 blue">
			<div class="container object-non-visible" data-animation-effect="fadeIn">
				<h1 id="services"  class="text-center title">Main Challenges</h1>
				<div class="space"></div>
				<div class="row">
					<div class="col-sm-6">
						<div class="media">
							<div class="media-body text-right">
								<h4 class="media-heading">Sourcing a motor controller</h4>
								<p>It was hard, we blew some up</p>
							</div>
							<div class="media-right">
								<i class="fa fa-cog"></i>
							</div>
						</div>
						<div class="media">
							<div class="media-body text-right">
								<h4 class="media-heading">Simulating a control scheme</h4>
								<p>Control schemes rock</p>
							</div>
							<div class="media-right">
								<i class="fa fa-area-chart"></i>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="media">
							<div class="media-left">
                                <i class="fa fa-codepen"></i>
							</div>
							<div class="media-body">
								<h4 class="media-heading">Balancing a cube</h4>
                                <p> its hard, maybe regular cubes are the way to go? </p>
							</div>
						</div>
						<div class="media">
							<div class="media-left">
								<i class="fa fa-child"></i>
							</div>
							<div class="media-body">
								<h4 class="media-heading">Jumping up</h4>
								<p>Gravity is the worst</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- section end -->

		<!-- section start -->
		<!-- ================ -->
		<div class="default-bg space blue">
			<div class="container">
				<div class="row">
					<div class="col-md-8 col-md-offset-2">
						<h1 class="text-center">Control Systems!</h1>
					</div>
				</div>
			</div>
		</div>
		<!-- section end -->

		<!-- section start -->
		<!-- ================ -->
		<div class="section">
			<div class="container">
                <h1 class="text-center title" id="portfolio">Some Pictures<sup>3</sup></h1>
				<div class="separator"></div>
				<p class="lead text-center">Cubie is quite photogenic</p>
				<br>
				<div class="row object-non-visible" data-animation-effect="fadeIn">
					<div class="colza-md-12">

						<!-- portfolio items start -->
						<div class="isotope-container row grid-space-20">
							<div class="col-sm-6 col-md-3 isotope-item web-design">
								<div class="image-box">
									<div class="overlay-container">
										<img src="images/portfolio-1.jpg" alt="">
										<a class="overlay" data-toggle="modal" data-target="#project-1">
											<i class="fa fa-search-plus"></i>
										</a>
									</div>
									<a class="btn btn-default btn-block" data-toggle="modal" data-target="#project-1">The accel is wired up!</a>
								</div>
								<!-- Modal -->
								<div class="modal fade" id="project-1" tabindex="-1" role="dialog" aria-labelledby="project-1-label" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
												<h4 class="modal-title" id="project-1-label">The Accel is Wired Up!</h4>
											</div>
											<div class="modal-body">
												<h3>Using I2C means we only need 4 wires!</h3>
												<div class="row">
													<div class="col-md-6">
                                                        <p>Our chip requires a 5V line, a GND line, a data clock line, and a data line.  The chip has an onboard 3.3V regulator, and supports both 5V and 3.3V bidirectional logic.  This allows the chip to communicate very easily with a number of different devices.  The gyro and the accelerometer can be accessed by different I2C addresses, thus they can share the same I2C connections, leading to the minimal number of wires neccessary.</p>
													</div>
													<div class="col-md-6">
														<img src="images/portfolio-1.jpg" alt="">
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
								<!-- Modal end -->
							</div>

							<div class="col-sm-6 col-md-3 isotope-item app-development">
								<div class="image-box">
									<div class="overlay-container">
										<img src="images/portfolio-2.jpg" alt="">
										<a class="overlay" data-toggle="modal" data-target="#project-2">
											<i class="fa fa-search-plus"></i>
										</a>
									</div>
									<a class="btn btn-default btn-block" data-toggle="modal" data-target="#project-2">Matt Debugs the Accel</a>
								</div>
								<!-- Modal -->
								<div class="modal fade" id="project-2" tabindex="-1" role="dialog" aria-labelledby="project-2-label" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
												<h4 class="modal-title" id="project-2-label">Matt Debugs the Accel</h4>
											</div>
											<div class="modal-body">
												<h3>Angle measurements are critical for control </h3>
												<div class="row">
													<div class="col-md-6">
                                                        <p>Accelerometers are really tricky, get started on yours early! We have an IMU and a spare unit, each with a three-axis accelerometer and a three-axis gyro built in together. Amazingly enough for us, both chips decided to continue functioning as gyros but randomly and intermiddently cut out on us. When they were working, we had issues with vibration coming from the motor introducing noise in the accelerometer signal. Here we see Matt debugging the accelerometer by applying a low pass filter.</p>
													</div>
													<div class="col-md-6">
														<img src="images/portfolio-2.jpg" alt="">
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
								<!-- Modal end -->
							</div>

							<div class="col-sm-6 col-md-3 isotope-item web-design">
								<div class="image-box">
									<div class="overlay-container">
										<img src="images/portfolio-3.jpg" alt="">
										<a class="overlay" data-toggle="modal" data-target="#project-3">
											<i class="fa fa-search-plus"></i>
										</a>
									</div>
									<a class="btn btn-default btn-block" data-toggle="modal" data-target="#project-3">Debugging PWM Signals</a>
								</div>
								<!-- Modal -->
								<div class="modal fade" id="project-3" tabindex="-1" role="dialog" aria-labelledby="project-3-label" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
												<h4 class="modal-title" id="project-3-label">Using an Oscilloscopt to Debug PWM Signals</h4>
											</div>
											<div class="modal-body">
												<h3>You gotta set the trigger right!</h3>
												<div class="row">
													<div class="col-md-6">
                                                        <p>Our motor controller uses 5V logic, but the myRio only outputs 3.3V.  We implemented a logic shifter using a MOSFET and an opamp voltage follower.  Since our circuit inverts the logic and the motor controller expects a duty cycle between 5% and 10%, we send a duty cycle between 95% and 90%.  The oscilloscope allowed us to debug any problems and confirm that our design worked as expected.</p>
													</div>
													<div class="col-md-6">
														<img src="images/portfolio-3.jpg" alt="">
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
								<!-- Modal end -->
							</div>

							<div class="col-sm-6 col-md-3 isotope-item site-building">
								<div class="image-box">
									<div class="overlay-container">
										<img src="images/portfolio-4.jpg" alt="">
										<a class="overlay" data-toggle="modal" data-target="#project-4">
											<i class="fa fa-search-plus"></i>
										</a>
									</div>
									<a class="btn btn-default btn-block" data-toggle="modal" data-target="#project-4">LSM9DS0 IMU</a>
								</div>
								<!-- Modal -->
								<div class="modal fade" id="project-4" tabindex="-1" role="dialog" aria-labelledby="project-4-label" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
												<h4 class="modal-title" id="project-4-label">Using an Oscilloscope to Debug PWM Signals</h4>
											</div>
											<div class="modal-body">
												<h3>Using an Oscilloscope to Debug PWM Signals</h3>
												<div class="row">
													<div class="col-md-6">
                                                        <p>The LSM9DS0 is an IMU with an onboard gyroscope, accelerometer, and compass.  We use the gyroscope data to help determine position in the transients, and accelerometer data when the cube is stationary.  This is acheived by using a Complementary Filter, which was chosen for its easy implementation and simplicity. </p>
													</div>
													<div class="col-md-6">
														<img src="images/portfolio-4.jpg" alt="">
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
								<!-- Modal end -->
							</div>

							<div class="col-sm-6 col-md-3 isotope-item site-building">
								<div class="image-box">
									<div class="overlay-container">
										<img src="images/5degcatch.png" alt="">
										<a class="overlay" data-toggle="modal" data-target="#project-5">
											<i class="fa fa-search-plus"></i>
										</a>
									</div>
									<a class="btn btn-default btn-block" data-toggle="modal" data-target="#project-5">5 Deg Catch Sim</a>
								</div>
								<!-- Modal -->
								<div class="modal fade" id="project-5" tabindex="-1" role="dialog" aria-labelledby="project-5-label" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
												<h4 class="modal-title" id="project-5-label">Response to 5 Deg Displacement</h4>
											</div>
											<div class="modal-body">
												<h3>Position, Velocity, Torque</h3>
												<div class="row">
													<div class="col-md-6">
                                                        <p>This plot displays expected step response of the system to a 5 deg initial disturbance. The transient response demonstrates the characteristics of a 0.5 sec rise time with a 1.5 sec settle time as expected. This also demonstrates that the observer converges an order of magnitude faster than the plant, which is desired to ensure proper transient response.</p>
													</div>
													<div class="col-md-6">
														<img src="images/5degcatch.png" alt="">
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
								<!-- Modal end -->
							</div>

							<div class="col-sm-6 col-md-3 isotope-item site-building">
								<div class="image-box">
									<div class="overlay-container">
										<img src="images/5degmomentum.png" alt="">
										<a class="overlay" data-toggle="modal" data-target="#project-7">
											<i class="fa fa-search-plus"></i>
										</a>
									</div>
									<a class="btn btn-default btn-block" data-toggle="modal" data-target="#project-7">5 Deg Momentum Sim</a>
								</div>
								<!-- Modal -->
								<div class="modal fade" id="project-7" tabindex="-1" role="dialog" aria-labelledby="project-7-label" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
												<h4 class="modal-title" id="project-5-label">Momentum Response to 5 Deg Displacement</h4>
											</div>
											<div class="modal-body">
												<h3>Simulated Values from MatLab</h3>
												<div class="row">
													<div class="col-md-6">
                                                        <p>As a check on the dynamics of the system, the momentum of the disc and cube (as well as the total) was plotted against time for the same 5 deg step disturbance. This plot demonstrates the convergence of the momentum to zero as time passes the settling time of 1.5 sec.</p>
													</div>
													<div class="col-md-6">
														<img src="images/5degmomentum.png" alt="">
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
								<!-- Modal end -->
							</div>

							<div class="col-sm-6 col-md-3 isotope-item site-building">
								<div class="image-box">
									<div class="overlay-container">
										<img src="images/5degvoltage.png" alt="">
										<a class="overlay" data-toggle="modal" data-target="#project-8">
											<i class="fa fa-search-plus"></i>
										</a>
									</div>
									<a class="btn btn-default btn-block" data-toggle="modal" data-target="#project-8">5 Deg Voltage Sim</a>
								</div>
									<!-- Modal -->
								<div class="modal fade" id="project-8" tabindex="-1" role="dialog" aria-labelledby="project-8-label" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
												<h4 class="modal-title" id="project-8-label">Voltage response to 5 deg displacement</h4>
											</div>
											<div class="modal-body">
												<h3>Simulated values from MatLab</h3>
												<div class="row">
													<div class="col-md-6">
                                                        <p>These plots demonstrate that the maximum power the motor can output (according to a linear model of the motor) will not be exceeded by this control setup. It also demonstrates that the desired voltage for this step response will be at maximum 8V, which is exactly the amount that our 3000 mAh battery can supply. </p>
													</div>
													<div class="col-md-6">
														<img src="images/5degvoltage.png" alt="">
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
								<!-- Modal end -->
                            </div>

                            <div class="col-sm-6 col-md-3 isotope-item site-building">
								<div class="image-box">
									<div class="overlay-container">
										<img src="images/electromagnet.jpg" alt="">
										<a class="overlay" data-toggle="modal" data-target="#project-9">
											<i class="fa fa-search-plus"></i>
										</a>
									</div>
									<a class="btn btn-default btn-block" data-toggle="modal" data-target="#project-9">Electromagnetic Brake</a>
								</div>
									<!-- Modal -->
								<div class="modal fade" id="project-9" tabindex="-1" role="dialog" aria-labelledby="project-9-label" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
												<h4 class="modal-title" id="project-9-label">Electromagnetic Brake</h4>
											</div>
											<div class="modal-body">
												<h3>Brake with PWM control!</h3>
												<div class="row">
													<div class="col-md-6">
                                                        <p>Servos are pretty regular, and our little Cubie wanted to be extraordinary. We thought that magnets were pretty cool, and wanted the ability to fine tune the performance and stopping power. We chose to use an electromagnet so that we could use PWM control! To implement the PWM, we had to use an opamp and a mosfet to supply the electromagnet with enough current (the myRIO can't put out enough as it is) and to switch it using the myRIO.</p>
													</div>
													<div class="col-md-6">
														<img src="images/electromagnet.jpg" alt="">
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
								<!-- Modal end -->
                             </div>


                             <div class="col-sm-6 col-md-3 isotope-item site-building">
								<div class="image-box">
									<div class="overlay-container">
										<img src="images/new_encoder.jpg" alt="">
										<a class="overlay" data-toggle="modal" data-target="#project-10">
											<i class="fa fa-search-plus"></i>
										</a>
									</div>
									<a class="btn btn-default btn-block" data-toggle="modal" data-target="#project-10">Cube Position Encoder</a>
								</div>
									<!-- Modal -->
								<div class="modal fade" id="project-10" tabindex="-1" role="dialog" aria-labelledby="project-8-label" aria-hidden="true">
									<div class="modal-dialog modal-lg">
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
												<h4 class="modal-title" id="project-10-label">TITLE1</h4>
											</div>
											<div class="modal-body">
												<h3>More data is always better!</h3>
												<div class="row">
													<div class="col-md-6">
                                                        <p>As we've had problems with the accelerometer, we sometimes us a separate rotary encoder to get cube position values. While the accelerometer has been susceptible to vibration noise, the rotary encoder is more resilient to vibrations and noise. We've been able to get much better data and have been able to compare the data from the accelerometer, gyroscope, and encoder.</p>
													</div>
													<div class="col-md-6">
														<img src="images/new_encoder.jpg" alt="">
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>
									</div>
								</div>
								<!-- Modal end -->
                            </div>
						</div>
				    </div>

				<div class="space"></div>
				<div class="col-md-6" >
                                    <iframe width="525" height="394"
                                        src="https://www.youtube.com/embed/2UHb0_1wNJo?autoplay=1&loop=1&controls=0&playlist=2UHb0_1wNJo"
                                        frameborder="0" allowfullscreen>
                                    </iframe>
				</div>
				<div class="col-md-6" >

                                    <iframe width="525" height="394"
                                        src="https://www.youtube.com/embed/c53odLPzyVs?autoplay=1&loop=1&controls=0&playlist=c53odLPzyVs"
                                        frameborder="0" allowfullscreen>
                                    </iframe>
				</div>

					</div>
				</div>
			</div>
		</div>
		<!-- section end -->


		<!-- section start -->
		<!-- ================ -->
		<div class="section translucent-bg bg-image-2 pb-clear">
			<div class="container object-non-visible" data-animation-effect="fadeIn">
				<h1 id="clients" class="title text-center">Testimonials</h1>
				<div class="space"></div>
				<div class="row">
					<div class="col-md-4">
						<div class="media testimonial">
							<div class="media-left">
								<img src="images/gpearman.png" alt="">
							</div>
							<div class="media-body">
								<h3 class="media-heading">Best Cube Ever!</h3>
								<blockquote>
                                    <p>I used to have a nonbalancing cube. Now that I've seen the balancing cube, I can't imagine going back to using a regular cube.</p>
									<footer>George Pearman</footer>
								</blockquote>
							</div>
						</div>
					</div>
					<div class="col-md-4">
					</div>
					<div class="col-md-4">
						<div class="media testimonial">
							<div class="media-left">
								<img src="images/mdethlefsen.png" alt="">
							</div>
							<div class="media-body">
								<h3 class="media-heading">Yeah!</h3>
								<blockquote>
									<p>Woooooooooooooo balancing cube!</p>
									<footer>Matt Dethlefsen</footer>
								</blockquote>
							</div>
						</div>
					</div>
                </div>
				<div class="row">
					<div class="col-md-4">
						<div class="media testimonial">
							<div class="media-left">
								<img src="images/bmitchell.png" alt="">
							</div>
							<div class="media-body">
								<h3 class="media-heading">What an inspiring project</h3>
								<blockquote>
									<p>I bet this has all sorts of applications in the field of robotics! </p>
									<footer>Brendan Mitchell</footer>
								</blockquote>
							</div>
						</div>
					</div>
					<div class="col-md-4">
					</div>
					<div class="col-md-4">
						<div class="media testimonial">
							<div class="media-left">
								<img src="images/ltruong.png" alt="">
							</div>
							<div class="media-body">
								<h3 class="media-heading">I like it</h3>
								<blockquote>
									<p>I really do.</p>
                                    <footer>Long Truong</footer>
								</blockquote>
							</div>
						</div>
					</div>
				</div>
			</div>


		<!-- footer start -->
		<!-- ================ -->
			</div>


		<!-- footer start -->
		<!-- ================ -->
		<footer id="footer">

			<!-- ================ -->
			<div class="subfooter">
				<div class="container">
					<div class="row">
						<div class="col-md-12">
							<p class="text-center">102b Project 2015.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- .subfooter end -->

		</footer>
		<!-- footer end -->

		<!-- JavaScript files placed at the end of the document so the pages load faster
		================================================== -->
		<!-- Jquery and Bootstap core js files -->
		<script type="text/javascript" src="plugins/jquery.min.js"></script>
		<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>

		<!-- Modernizr javascript -->
		<script type="text/javascript" src="plugins/modernizr.js"></script>

		<!-- Isotope javascript -->
		<script type="text/javascript" src="plugins/isotope/isotope.pkgd.min.js"></script>

		<!-- Backstretch javascript -->
		<script type="text/javascript" src="plugins/jquery.backstretch.min.js"></script>

		<!-- Appear javascript -->
		<script type="text/javascript" src="plugins/jquery.appear.js"></script>

		<!-- Initialization of Plugins -->
		<script type="text/javascript" src="js/template.js"></script>

		<!-- Custom Scripts -->
		<script type="text/javascript" src="js/custom.js"></script>

	</body>
</html>
